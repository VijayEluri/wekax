<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2) on Wed Aug 11 13:41:54 CDT 2004 -->
<TITLE>
AffineProbMetric
</TITLE>

<META NAME="keywords" CONTENT="weka.deduping.metrics.AffineProbMetric class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="AffineProbMetric";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../weka/deduping/metrics/AffineMetric.html" title="class in weka.deduping.metrics"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../weka/deduping/metrics/ClassifierInstanceMetric.html" title="class in weka.deduping.metrics"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AffineProbMetric.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
weka.deduping.metrics</FONT>
<BR>
Class AffineProbMetric</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by"><A HREF="../../../weka/deduping/metrics/StringMetric.html" title="class in weka.deduping.metrics">weka.deduping.metrics.StringMetric</A>
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by"><B>weka.deduping.metrics.AffineProbMetric</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.lang.Cloneable, <A HREF="../../../weka/deduping/metrics/LearnableStringMetric.html" title="interface in weka.deduping.metrics">LearnableStringMetric</A>, <A HREF="../../../weka/core/OptionHandler.html" title="interface in weka.core">OptionHandler</A>, java.io.Serializable</DD>
</DL>
<HR>
<DL>
<DT>public class <B>AffineProbMetric</B><DT>extends <A HREF="../../../weka/deduping/metrics/StringMetric.html" title="class in weka.deduping.metrics">StringMetric</A><DT>implements <A HREF="../../../weka/deduping/metrics/LearnableStringMetric.html" title="interface in weka.deduping.metrics">LearnableStringMetric</A>, java.io.Serializable, <A HREF="../../../weka/core/OptionHandler.html" title="interface in weka.core">OptionHandler</A></DL>

<P>
AffineProbMetric class implements a probabilistic model string edit distance with affine-cost gaps
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../serialized-form.html#weka.deduping.metrics.AffineProbMetric">Serialized Form</A></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;char</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#blank">blank</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A handy constant for insertions/deletions, we treat them as substitution with a null character</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#CONVERSION_EXPONENTIAL">CONVERSION_EXPONENTIAL</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#CONVERSION_LAPLACIAN">CONVERSION_LAPLACIAN</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We can have different ways of converting from distance to similarity</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#CONVERSION_UNIT">CONVERSION_UNIT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_clampProb">m_clampProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Minimal value of a probability parameter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_conversionType">m_conversionType</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The method of converting, by default laplacian</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double[][]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_editopCosts">m_editopCosts</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameters for the additive model, obtained from log-probs to speed up
      computations in the "testing" phase after weights have been learned</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double[][]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_editopLogProbs">m_editopLogProbs</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double[][]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_editopOccs">m_editopOccs</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double[][]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_editopProbs">m_editopProbs</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_endAtGapCost">m_endAtGapCost</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_endAtGapLogProb">m_endAtGapLogProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_endAtGapOccs">m_endAtGapOccs</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_endAtGapProb">m_endAtGapProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_endAtSubCost">m_endAtSubCost</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_endAtSubLogProb">m_endAtSubLogProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_endAtSubOccs">m_endAtSubOccs</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_endAtSubProb">m_endAtSubProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_gapEndCost">m_gapEndCost</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_gapEndLogProb">m_gapEndLogProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_gapEndOccs">m_gapEndOccs</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_gapEndProb">m_gapEndProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_gapExtendCost">m_gapExtendCost</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_gapExtendLogProb">m_gapExtendLogProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_gapExtendOccs">m_gapExtendOccs</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_gapExtendProb">m_gapExtendProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_gapStartCost">m_gapStartCost</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_gapStartLogProb">m_gapStartLogProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_gapStartOccs">m_gapStartOccs</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_gapStartProb">m_gapStartProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_noopCost">m_noopCost</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_noopLogProb">m_noopLogProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parameters for the generative model</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_noopOccs">m_noopOccs</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parameters for the generative model</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_noopProb">m_noopProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parameters for the generative model</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_normalized">m_normalized</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Normalization of edit distance by string length; equivalent to
    using the posterior probability in the generative model</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_numIterations">m_numIterations</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maximum number of iterations for training the model; usually converge in <10 iterations</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_subCost">m_subCost</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_subLogProb">m_subLogProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_subOccs">m_subOccs</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_subProb">m_subProb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;char[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_usedChars">m_usedChars</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TODO:  given a corpus, populate this array with the characters that are actually encountered</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_useGenerativeModel">m_useGenerativeModel</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true if we are using a generative model for distance in the "testing" phase after learning the parameters
      By default we want to use the additive model that uses probabilities converted to costs</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#m_verbose">m_verbose</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../weka/core/Tag.html" title="class in weka.core">Tag</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#TAGS_CONVERSION">TAGS_CONVERSION</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#AffineProbMetric()">AffineProbMetric</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set up an instance of AffineProbMetric</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double[][][]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#backward(java.lang.String, java.lang.String)">backward</A></B>(java.lang.String&nbsp;_s1,
         java.lang.String&nbsp;_s2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calculate the backward matrices</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#clone()">clone</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a copy of this metric</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#costDistance(java.lang.String, java.lang.String)">costDistance</A></B>(java.lang.String&nbsp;string1,
             java.lang.String&nbsp;string2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calculate affine gapped distance using learned costs</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#distance(java.lang.String, java.lang.String)">distance</A></B>(java.lang.String&nbsp;s1,
         java.lang.String&nbsp;s2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the distance between two strings</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#expectationStep(java.lang.String, java.lang.String, int, boolean)">expectationStep</A></B>(java.lang.String&nbsp;_s1,
                java.lang.String&nbsp;_s2,
                int&nbsp;lambda,
                boolean&nbsp;pos_training)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Expectation  part of the EM algorithm
  accumulates expectations of editop probabilities over example pairs
  Expectation is calculated based on two examples which are either duplicates (pos=true)
  or non-duplicates (pos=false).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double[][][]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#forward(java.lang.String, java.lang.String)">forward</A></B>(java.lang.String&nbsp;_s1,
        java.lang.String&nbsp;_s2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calculate the forward matrices</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#getClampProb()">getClampProb</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the clamping probability value</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../weka/core/SelectedTag.html" title="class in weka.core">SelectedTag</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#getConversionType()">getConversionType</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return the type of similarity to distance conversion</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#getNormalized()">getNormalized</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get whether the distance is normalized by the sum of the string's lengths</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#getOptions()">getOptions</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the current settings of WeightedDotP.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#getUseGenerativeModel()">getUseGenerativeModel</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do we use the generative model or convert back to the additive model?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#initCosts()">initCosts</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initialize the costs using current values of the probabilities</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#initProbs()">initProbs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initialize the probabilities to some startup values</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#isDistanceBased()">isDistanceBased</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The computation of a metric can be either based on distance, or on similarity</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Enumeration</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#listOptions()">listOptions</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an enumeration describing the available options.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#logSum(double, double)">logSum</A></B>(double&nbsp;_logA,
       double&nbsp;_logB)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calculation of log(a+b) with a correction for machine precision</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#main(java.lang.String[])">main</A></B>(java.lang.String[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#maximizationStep()">maximizationStep</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maximization step of the EM algorithm</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#normalizeEmissionProbs()">normalizeEmissionProbs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Normalize the probabilities of emission editops so that they sum to 1
 for each state</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#normalizeTransitionProbs()">normalizeTransitionProbs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Normalize the probabilities of transitions so that they sum to 1
 for each state</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#print3dMatrix(double[][][])">print3dMatrix</A></B>(double[][][]&nbsp;matrix)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#printAlignmentMatrix(java.lang.String, java.lang.String, int, double[][][])">printAlignmentMatrix</A></B>(java.lang.String&nbsp;_s1,
                     java.lang.String&nbsp;_s2,
                     int&nbsp;idx,
                     double[][][]&nbsp;matrix)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#printMatrices(java.lang.String, java.lang.String)">printMatrices</A></B>(java.lang.String&nbsp;s1,
              java.lang.String&nbsp;s2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print out the three matrices</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#printOpProbs()">printOpProbs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print out some data in case things go wrong</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#resetOccurrences()">resetOccurrences</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reset the number of occurrences of all ops in the set</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#setClampProb(double)">setClampProb</A></B>(double&nbsp;clampProb)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the clamping probability value</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#setConversionType(weka.core.SelectedTag)">setConversionType</A></B>(<A HREF="../../../weka/core/SelectedTag.html" title="class in weka.core">SelectedTag</A>&nbsp;conversionType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the type of similarity to distance conversion.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#setNormalized(boolean)">setNormalized</A></B>(boolean&nbsp;normalized)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the distance to be normalized by the sum of the string's lengths</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#setNumIterations()">setNumIterations</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of training iterations</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#setNumIterations(int)">setNumIterations</A></B>(int&nbsp;numIterations)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the number of training iterations</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#setOptions(java.lang.String[])">setOptions</A></B>(java.lang.String[]&nbsp;options)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parses a given list of options.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#setUseGenerativeModel(boolean)">setUseGenerativeModel</A></B>(boolean&nbsp;useGenerativeModel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the distance to use the generative model or convert back to the additive model</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#similarity(java.lang.String, java.lang.String)">similarity</A></B>(java.lang.String&nbsp;string1,
           java.lang.String&nbsp;string2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a similarity estimate between two strings.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#trainMetric(java.util.ArrayList)">trainMetric</A></B>(java.util.ArrayList&nbsp;pairList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Train the distance parameters using provided examples using EM</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../weka/deduping/metrics/AffineProbMetric.html#updateLogProbs()">updateLogProbs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;store logs of all probabilities in m_editopLogProbs</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_weka.deduping.metrics.StringMetric"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class weka.deduping.metrics.<A HREF="../../../weka/deduping/metrics/StringMetric.html" title="class in weka.deduping.metrics">StringMetric</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../weka/deduping/metrics/StringMetric.html#forName(java.lang.String, java.lang.String[])">forName</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="m_editopProbs"><!-- --></A><H3>
m_editopProbs</H3>
<PRE>
protected double[][] <B>m_editopProbs</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_editopLogProbs"><!-- --></A><H3>
m_editopLogProbs</H3>
<PRE>
protected double[][] <B>m_editopLogProbs</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_editopOccs"><!-- --></A><H3>
m_editopOccs</H3>
<PRE>
protected double[][] <B>m_editopOccs</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_noopProb"><!-- --></A><H3>
m_noopProb</H3>
<PRE>
protected double <B>m_noopProb</B></PRE>
<DL>
<DD>Parameters for the generative model
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_noopLogProb"><!-- --></A><H3>
m_noopLogProb</H3>
<PRE>
protected double <B>m_noopLogProb</B></PRE>
<DL>
<DD>Parameters for the generative model
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_noopOccs"><!-- --></A><H3>
m_noopOccs</H3>
<PRE>
protected double <B>m_noopOccs</B></PRE>
<DL>
<DD>Parameters for the generative model
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_endAtSubProb"><!-- --></A><H3>
m_endAtSubProb</H3>
<PRE>
protected double <B>m_endAtSubProb</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_endAtSubLogProb"><!-- --></A><H3>
m_endAtSubLogProb</H3>
<PRE>
protected double <B>m_endAtSubLogProb</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_endAtSubOccs"><!-- --></A><H3>
m_endAtSubOccs</H3>
<PRE>
protected double <B>m_endAtSubOccs</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_endAtGapProb"><!-- --></A><H3>
m_endAtGapProb</H3>
<PRE>
protected double <B>m_endAtGapProb</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_endAtGapLogProb"><!-- --></A><H3>
m_endAtGapLogProb</H3>
<PRE>
protected double <B>m_endAtGapLogProb</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_endAtGapOccs"><!-- --></A><H3>
m_endAtGapOccs</H3>
<PRE>
protected double <B>m_endAtGapOccs</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_gapStartProb"><!-- --></A><H3>
m_gapStartProb</H3>
<PRE>
protected double <B>m_gapStartProb</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_gapStartLogProb"><!-- --></A><H3>
m_gapStartLogProb</H3>
<PRE>
protected double <B>m_gapStartLogProb</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_gapStartOccs"><!-- --></A><H3>
m_gapStartOccs</H3>
<PRE>
protected double <B>m_gapStartOccs</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_gapExtendProb"><!-- --></A><H3>
m_gapExtendProb</H3>
<PRE>
protected double <B>m_gapExtendProb</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_gapExtendLogProb"><!-- --></A><H3>
m_gapExtendLogProb</H3>
<PRE>
protected double <B>m_gapExtendLogProb</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_gapExtendOccs"><!-- --></A><H3>
m_gapExtendOccs</H3>
<PRE>
protected double <B>m_gapExtendOccs</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_gapEndProb"><!-- --></A><H3>
m_gapEndProb</H3>
<PRE>
protected double <B>m_gapEndProb</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_gapEndLogProb"><!-- --></A><H3>
m_gapEndLogProb</H3>
<PRE>
protected double <B>m_gapEndLogProb</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_gapEndOccs"><!-- --></A><H3>
m_gapEndOccs</H3>
<PRE>
protected double <B>m_gapEndOccs</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_subProb"><!-- --></A><H3>
m_subProb</H3>
<PRE>
protected double <B>m_subProb</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_subLogProb"><!-- --></A><H3>
m_subLogProb</H3>
<PRE>
protected double <B>m_subLogProb</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_subOccs"><!-- --></A><H3>
m_subOccs</H3>
<PRE>
protected double <B>m_subOccs</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_editopCosts"><!-- --></A><H3>
m_editopCosts</H3>
<PRE>
protected double[][] <B>m_editopCosts</B></PRE>
<DL>
<DD>parameters for the additive model, obtained from log-probs to speed up
      computations in the "testing" phase after weights have been learned
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_noopCost"><!-- --></A><H3>
m_noopCost</H3>
<PRE>
protected double <B>m_noopCost</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_endAtSubCost"><!-- --></A><H3>
m_endAtSubCost</H3>
<PRE>
protected double <B>m_endAtSubCost</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_endAtGapCost"><!-- --></A><H3>
m_endAtGapCost</H3>
<PRE>
protected double <B>m_endAtGapCost</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_gapStartCost"><!-- --></A><H3>
m_gapStartCost</H3>
<PRE>
protected double <B>m_gapStartCost</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_gapExtendCost"><!-- --></A><H3>
m_gapExtendCost</H3>
<PRE>
protected double <B>m_gapExtendCost</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_gapEndCost"><!-- --></A><H3>
m_gapEndCost</H3>
<PRE>
protected double <B>m_gapEndCost</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_subCost"><!-- --></A><H3>
m_subCost</H3>
<PRE>
protected double <B>m_subCost</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_useGenerativeModel"><!-- --></A><H3>
m_useGenerativeModel</H3>
<PRE>
protected boolean <B>m_useGenerativeModel</B></PRE>
<DL>
<DD>true if we are using a generative model for distance in the "testing" phase after learning the parameters
      By default we want to use the additive model that uses probabilities converted to costs
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_numIterations"><!-- --></A><H3>
m_numIterations</H3>
<PRE>
protected int <B>m_numIterations</B></PRE>
<DL>
<DD>Maximum number of iterations for training the model; usually converge in <10 iterations
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_normalized"><!-- --></A><H3>
m_normalized</H3>
<PRE>
protected boolean <B>m_normalized</B></PRE>
<DL>
<DD>Normalization of edit distance by string length; equivalent to
    using the posterior probability in the generative model
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_clampProb"><!-- --></A><H3>
m_clampProb</H3>
<PRE>
protected double <B>m_clampProb</B></PRE>
<DL>
<DD>Minimal value of a probability parameter.  Particularly important when
   training sets are small to prevent zero probabilities.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="blank"><!-- --></A><H3>
blank</H3>
<PRE>
protected final char <B>blank</B></PRE>
<DL>
<DD>A handy constant for insertions/deletions, we treat them as substitution with a null character
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#weka.deduping.metrics.AffineProbMetric.blank">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="m_usedChars"><!-- --></A><H3>
m_usedChars</H3>
<PRE>
protected char[] <B>m_usedChars</B></PRE>
<DL>
<DD>TODO:  given a corpus, populate this array with the characters that are actually encountered
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="CONVERSION_LAPLACIAN"><!-- --></A><H3>
CONVERSION_LAPLACIAN</H3>
<PRE>
public static final int <B>CONVERSION_LAPLACIAN</B></PRE>
<DL>
<DD>We can have different ways of converting from distance to similarity
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#weka.deduping.metrics.AffineProbMetric.CONVERSION_LAPLACIAN">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="CONVERSION_UNIT"><!-- --></A><H3>
CONVERSION_UNIT</H3>
<PRE>
public static final int <B>CONVERSION_UNIT</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#weka.deduping.metrics.AffineProbMetric.CONVERSION_UNIT">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="CONVERSION_EXPONENTIAL"><!-- --></A><H3>
CONVERSION_EXPONENTIAL</H3>
<PRE>
public static final int <B>CONVERSION_EXPONENTIAL</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#weka.deduping.metrics.AffineProbMetric.CONVERSION_EXPONENTIAL">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="TAGS_CONVERSION"><!-- --></A><H3>
TAGS_CONVERSION</H3>
<PRE>
public static final <A HREF="../../../weka/core/Tag.html" title="class in weka.core">Tag</A>[] <B>TAGS_CONVERSION</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_conversionType"><!-- --></A><H3>
m_conversionType</H3>
<PRE>
protected int <B>m_conversionType</B></PRE>
<DL>
<DD>The method of converting, by default laplacian
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="m_verbose"><!-- --></A><H3>
m_verbose</H3>
<PRE>
protected boolean <B>m_verbose</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="AffineProbMetric()"><!-- --></A><H3>
AffineProbMetric</H3>
<PRE>
public <B>AffineProbMetric</B>()</PRE>
<DL>
<DD>set up an instance of AffineProbMetric
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="forward(java.lang.String, java.lang.String)"><!-- --></A><H3>
forward</H3>
<PRE>
protected double[][][] <B>forward</B>(java.lang.String&nbsp;_s1,
                               java.lang.String&nbsp;_s2)</PRE>
<DL>
<DD>Calculate the forward matrices
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>_s1</CODE> - first string<DD><CODE>_s2</CODE> - second string
<DT><B>Returns:</B><DD>m_endAtSubProb*matrix[l1][l2][0] + m_endAtGapProb(matrix[l1][l2][1] +
 matrix[l1][l2][2]) extendains the distance value</DL>
</DD>
</DL>
<HR>

<A NAME="backward(java.lang.String, java.lang.String)"><!-- --></A><H3>
backward</H3>
<PRE>
protected double[][][] <B>backward</B>(java.lang.String&nbsp;_s1,
                                java.lang.String&nbsp;_s2)</PRE>
<DL>
<DD>Calculate the backward matrices
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>_s1</CODE> - first string<DD><CODE>_s2</CODE> - second string
<DT><B>Returns:</B><DD>matrix[0][0][0] extendains the distance value</DL>
</DD>
</DL>
<HR>

<A NAME="printMatrices(java.lang.String, java.lang.String)"><!-- --></A><H3>
printMatrices</H3>
<PRE>
public void <B>printMatrices</B>(java.lang.String&nbsp;s1,
                          java.lang.String&nbsp;s2)</PRE>
<DL>
<DD>print out the three matrices
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="printAlignmentMatrix(java.lang.String, java.lang.String, int, double[][][])"><!-- --></A><H3>
printAlignmentMatrix</H3>
<PRE>
public void <B>printAlignmentMatrix</B>(java.lang.String&nbsp;_s1,
                                 java.lang.String&nbsp;_s2,
                                 int&nbsp;idx,
                                 double[][][]&nbsp;matrix)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="printOpProbs()"><!-- --></A><H3>
printOpProbs</H3>
<PRE>
protected void <B>printOpProbs</B>()</PRE>
<DL>
<DD>print out some data in case things go wrong
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="trainMetric(java.util.ArrayList)"><!-- --></A><H3>
trainMetric</H3>
<PRE>
public void <B>trainMetric</B>(java.util.ArrayList&nbsp;pairList)
                 throws java.lang.Exception</PRE>
<DL>
<DD>Train the distance parameters using provided examples using EM
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../weka/deduping/metrics/LearnableStringMetric.html#trainMetric(java.util.ArrayList)">trainMetric</A></CODE> in interface <CODE><A HREF="../../../weka/deduping/metrics/LearnableStringMetric.html" title="interface in weka.deduping.metrics">LearnableStringMetric</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pairList</CODE> - the training data as a list of StringPair's
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="expectationStep(java.lang.String, java.lang.String, int, boolean)"><!-- --></A><H3>
expectationStep</H3>
<PRE>
protected double <B>expectationStep</B>(java.lang.String&nbsp;_s1,
                                 java.lang.String&nbsp;_s2,
                                 int&nbsp;lambda,
                                 boolean&nbsp;pos_training)</PRE>
<DL>
<DD>Expectation  part of the EM algorithm
  accumulates expectations of editop probabilities over example pairs
  Expectation is calculated based on two examples which are either duplicates (pos=true)
  or non-duplicates (pos=false).  Lambda is a weighting parameter, 1 by default.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>_s1</CODE> - first string<DD><CODE>_s2</CODE> - second string<DD><CODE>lambda</CODE> - learning rate parameter, 1 by default<DD><CODE>pos_training</CODE> - true if strings are matched, false if mismatched</DL>
</DD>
</DL>
<HR>

<A NAME="maximizationStep()"><!-- --></A><H3>
maximizationStep</H3>
<PRE>
protected void <B>maximizationStep</B>()</PRE>
<DL>
<DD>Maximization step of the EM algorithm
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="normalizeEmissionProbs()"><!-- --></A><H3>
normalizeEmissionProbs</H3>
<PRE>
protected void <B>normalizeEmissionProbs</B>()</PRE>
<DL>
<DD>Normalize the probabilities of emission editops so that they sum to 1
 for each state
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="normalizeTransitionProbs()"><!-- --></A><H3>
normalizeTransitionProbs</H3>
<PRE>
protected void <B>normalizeTransitionProbs</B>()</PRE>
<DL>
<DD>Normalize the probabilities of transitions so that they sum to 1
 for each state
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="resetOccurrences()"><!-- --></A><H3>
resetOccurrences</H3>
<PRE>
protected void <B>resetOccurrences</B>()</PRE>
<DL>
<DD>reset the number of occurrences of all ops in the set
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initProbs()"><!-- --></A><H3>
initProbs</H3>
<PRE>
protected void <B>initProbs</B>()</PRE>
<DL>
<DD>initialize the probabilities to some startup values
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initCosts()"><!-- --></A><H3>
initCosts</H3>
<PRE>
protected void <B>initCosts</B>()</PRE>
<DL>
<DD>initialize the costs using current values of the probabilities
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="updateLogProbs()"><!-- --></A><H3>
updateLogProbs</H3>
<PRE>
protected void <B>updateLogProbs</B>()</PRE>
<DL>
<DD>store logs of all probabilities in m_editopLogProbs
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="distance(java.lang.String, java.lang.String)"><!-- --></A><H3>
distance</H3>
<PRE>
public double <B>distance</B>(java.lang.String&nbsp;s1,
                       java.lang.String&nbsp;s2)</PRE>
<DL>
<DD>Get the distance between two strings
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../weka/deduping/metrics/StringMetric.html#distance(java.lang.String, java.lang.String)">distance</A></CODE> in class <CODE><A HREF="../../../weka/deduping/metrics/StringMetric.html" title="class in weka.deduping.metrics">StringMetric</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>s1</CODE> - first string<DD><CODE>s2</CODE> - second string
<DT><B>Returns:</B><DD>a value of this distance between these two strings</DL>
</DD>
</DL>
<HR>

<A NAME="logSum(double, double)"><!-- --></A><H3>
logSum</H3>
<PRE>
protected double <B>logSum</B>(double&nbsp;_logA,
                        double&nbsp;_logB)</PRE>
<DL>
<DD>Calculation of log(a+b) with a correction for machine precision
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="costDistance(java.lang.String, java.lang.String)"><!-- --></A><H3>
costDistance</H3>
<PRE>
public double <B>costDistance</B>(java.lang.String&nbsp;string1,
                           java.lang.String&nbsp;string2)</PRE>
<DL>
<DD>Calculate affine gapped distance using learned costs
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>minimum number of deletions/insertions/substitutions to be performed
 to transform s1 into s2 (or vice versa)</DL>
</DD>
</DL>
<HR>

<A NAME="print3dMatrix(double[][][])"><!-- --></A><H3>
print3dMatrix</H3>
<PRE>
public static void <B>print3dMatrix</B>(double[][][]&nbsp;matrix)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setNormalized(boolean)"><!-- --></A><H3>
setNormalized</H3>
<PRE>
public void <B>setNormalized</B>(boolean&nbsp;normalized)</PRE>
<DL>
<DD>Set the distance to be normalized by the sum of the string's lengths
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>normalized</CODE> - if true, distance is normalized by the sum of string's lengths</DL>
</DD>
</DL>
<HR>

<A NAME="getNormalized()"><!-- --></A><H3>
getNormalized</H3>
<PRE>
public boolean <B>getNormalized</B>()</PRE>
<DL>
<DD>Get whether the distance is normalized by the sum of the string's lengths
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>if true, distance is normalized by the sum of string's lengths</DL>
</DD>
</DL>
<HR>

<A NAME="setUseGenerativeModel(boolean)"><!-- --></A><H3>
setUseGenerativeModel</H3>
<PRE>
public void <B>setUseGenerativeModel</B>(boolean&nbsp;useGenerativeModel)</PRE>
<DL>
<DD>Set the distance to use the generative model or convert back to the additive model
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>useGenerativeModel</CODE> - if true, the generative model is used</DL>
</DD>
</DL>
<HR>

<A NAME="getUseGenerativeModel()"><!-- --></A><H3>
getUseGenerativeModel</H3>
<PRE>
public boolean <B>getUseGenerativeModel</B>()</PRE>
<DL>
<DD>Do we use the generative model or convert back to the additive model?
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setClampProb(double)"><!-- --></A><H3>
setClampProb</H3>
<PRE>
public void <B>setClampProb</B>(double&nbsp;clampProb)</PRE>
<DL>
<DD>Set the clamping probability value
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>clampProb</CODE> - a lower bound for all probability values to prevent underflow</DL>
</DD>
</DL>
<HR>

<A NAME="getClampProb()"><!-- --></A><H3>
getClampProb</H3>
<PRE>
public double <B>getClampProb</B>()</PRE>
<DL>
<DD>Get the clamping probability value
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a lower bound for all probability values to prevent underflow</DL>
</DD>
</DL>
<HR>

<A NAME="setNumIterations(int)"><!-- --></A><H3>
setNumIterations</H3>
<PRE>
public void <B>setNumIterations</B>(int&nbsp;numIterations)</PRE>
<DL>
<DD>Set the number of training iterations
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>numIterations</CODE> - the number of iterations</DL>
</DD>
</DL>
<HR>

<A NAME="setNumIterations()"><!-- --></A><H3>
setNumIterations</H3>
<PRE>
public int <B>setNumIterations</B>()</PRE>
<DL>
<DD>Get the number of training iterations
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the number of training iterations</DL>
</DD>
</DL>
<HR>

<A NAME="clone()"><!-- --></A><H3>
clone</H3>
<PRE>
public java.lang.Object <B>clone</B>()</PRE>
<DL>
<DD>Create a copy of this metric
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../weka/deduping/metrics/StringMetric.html#clone()">clone</A></CODE> in class <CODE><A HREF="../../../weka/deduping/metrics/StringMetric.html" title="class in weka.deduping.metrics">StringMetric</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>another AffineMetric with the same exact parameters as this  metric</DL>
</DD>
</DL>
<HR>

<A NAME="getOptions()"><!-- --></A><H3>
getOptions</H3>
<PRE>
public java.lang.String[] <B>getOptions</B>()</PRE>
<DL>
<DD>Gets the current settings of WeightedDotP.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../weka/core/OptionHandler.html#getOptions()">getOptions</A></CODE> in interface <CODE><A HREF="../../../weka/core/OptionHandler.html" title="interface in weka.core">OptionHandler</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>an array of strings suitable for passing to setOptions()
 TODO!!!!</DL>
</DD>
</DL>
<HR>

<A NAME="setOptions(java.lang.String[])"><!-- --></A><H3>
setOptions</H3>
<PRE>
public void <B>setOptions</B>(java.lang.String[]&nbsp;options)
                throws java.lang.Exception</PRE>
<DL>
<DD>Parses a given list of options. Valid options are:<p>

 -N normalize by length
 -m matchCost
 -s subCost
 -g gapStartCost
 -e gapExtendCost
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../weka/core/OptionHandler.html#setOptions(java.lang.String[])">setOptions</A></CODE> in interface <CODE><A HREF="../../../weka/core/OptionHandler.html" title="interface in weka.core">OptionHandler</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>options</CODE> - the list of options as an array of strings
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - if an option is not supported</DL>
</DD>
</DL>
<HR>

<A NAME="listOptions()"><!-- --></A><H3>
listOptions</H3>
<PRE>
public java.util.Enumeration <B>listOptions</B>()</PRE>
<DL>
<DD>Returns an enumeration describing the available options.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../weka/core/OptionHandler.html#listOptions()">listOptions</A></CODE> in interface <CODE><A HREF="../../../weka/core/OptionHandler.html" title="interface in weka.core">OptionHandler</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>an enumeration of all the available options.
 TODO!!!</DL>
</DD>
</DL>
<HR>

<A NAME="isDistanceBased()"><!-- --></A><H3>
isDistanceBased</H3>
<PRE>
public boolean <B>isDistanceBased</B>()</PRE>
<DL>
<DD>The computation of a metric can be either based on distance, or on similarity
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../weka/deduping/metrics/StringMetric.html#isDistanceBased()">isDistanceBased</A></CODE> in class <CODE><A HREF="../../../weka/deduping/metrics/StringMetric.html" title="class in weka.deduping.metrics">StringMetric</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="similarity(java.lang.String, java.lang.String)"><!-- --></A><H3>
similarity</H3>
<PRE>
public double <B>similarity</B>(java.lang.String&nbsp;string1,
                         java.lang.String&nbsp;string2)
                  throws java.lang.Exception</PRE>
<DL>
<DD>Returns a similarity estimate between two strings. Similarity is obtained by
 inverting the distance value using one of three methods:
 CONVERSION_LAPLACIAN, CONVERSION_EXPONENTIAL, CONVERSION_UNIT.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../weka/deduping/metrics/StringMetric.html#similarity(java.lang.String, java.lang.String)">similarity</A></CODE> in class <CODE><A HREF="../../../weka/deduping/metrics/StringMetric.html" title="class in weka.deduping.metrics">StringMetric</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>string1</CODE> - First string.<DD><CODE>string2</CODE> - Second string.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - if similarity could not be estimated.</DL>
</DD>
</DL>
<HR>

<A NAME="setConversionType(weka.core.SelectedTag)"><!-- --></A><H3>
setConversionType</H3>
<PRE>
public void <B>setConversionType</B>(<A HREF="../../../weka/core/SelectedTag.html" title="class in weka.core">SelectedTag</A>&nbsp;conversionType)</PRE>
<DL>
<DD>Set the type of similarity to distance conversion. Values other
 than CONVERSION_LAPLACIAN, CONVERSION_UNIT, or CONVERSION_EXPONENTIAL will be ignored
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getConversionType()"><!-- --></A><H3>
getConversionType</H3>
<PRE>
public <A HREF="../../../weka/core/SelectedTag.html" title="class in weka.core">SelectedTag</A> <B>getConversionType</B>()</PRE>
<DL>
<DD>return the type of similarity to distance conversion
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>one of CONVERSION_LAPLACIAN, CONVERSION_UNIT, or CONVERSION_EXPONENTIAL</DL>
</DD>
</DL>
<HR>

<A NAME="main(java.lang.String[])"><!-- --></A><H3>
main</H3>
<PRE>
public static void <B>main</B>(java.lang.String[]&nbsp;args)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../weka/deduping/metrics/AffineMetric.html" title="class in weka.deduping.metrics"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../weka/deduping/metrics/ClassifierInstanceMetric.html" title="class in weka.deduping.metrics"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AffineProbMetric.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
